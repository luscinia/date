<script type="text/javascript">
//期数
var term = 20;
//判断闰年
isLeapYear = function(dateYear)
{
    return (0==dateYear%4&&((dateYear%100!=0)||(dateYear%400==0)));
}
//根据是否是闰年获取2月末日期
getLeapYearFlagDate = function(dateYear){
var flagDate;
if(isLeapYear(dateYear)){
flagDate = 29;
}else{
flagDate = 28;
}
return flagDate;
}
//判断是否是每月的月末
getEndFlagDate = function(dateYear,dateMonth,dateDay){
//根据是否是闰年获取2月末日期
var flagDate = getLeapYearFlagDate(dateYear);
var EndFlag;
if((dateMonth ===2 && dateDay===flagDate)
||(dateMonth ===1 && dateDay===31)
||(dateMonth ===3 && dateDay===31)
||(dateMonth ===4 && dateDay===30)
||(dateMonth ===5 && dateDay===31)
||(dateMonth ===6 && dateDay===30)
||(dateMonth ===7 && dateDay===31)
||(dateMonth ===8 && dateDay===31)
||(dateMonth ===9 && dateDay===30)
||(dateMonth ===10 && dateDay===31)
||(dateMonth ===11 && dateDay===30)
||(dateMonth ===12 && dateDay===31)){
return EndFlag = true;
}else{
return EndFlag = false;
}
}
//获取结束日期
setEndDate = function(dateYear,dateMonth,dateDay){
    //判断是否是每月的月末
 var EndFlag = getEndFlagDate(dateYear,dateMonth,dateDay);

var endYear,endMonth,endDate;
endYear = dateYear;
 endMonth = dateMonth + term;
if(endMonth>12){
yearAdd = parseInt(endMonth/12);
endMonth = endMonth%12;
endYear = endYear+yearAdd;
}
//计算结束日
if(EndFlag){
switch(endMonth)
{
case 1:
  endDate = 31;
  break;
case 2:
endDate=getLeapYearFlagDate(endYear);
  break;
  case 3:
  endDate = 31;
    break;
    case 4:
    endDate = 30;
    case 5:
    endDate = 31;
      break;
      case 6:
      endDate = 30;
        break;
        case 7:
        endDate = 31;
          break;
          case 8:
          endDate = 31;
            break;
            case 9:
            endDate = 30;
              break;
              case 10:
              endDate = 31;
                break;
                case 11:
                endDate = 30;
                  break;
                  case 12:
                  endDate = 31;
                    break;
default:

}
}else{
if(endMonth===2 && (dateDay===30 || dateDay===29)){
endDate=getLeapYearFlagDate(endYear);
}else{
endDate = dateDay;
}

}

console.log(endYear+"-"+endMonth+"-"+endDate);
return endYear+"-"+endMonth+"-"+endDate;

}

window.onload = function(){
  //for test
  //string date = '20160830'
  
  var date =new Date();


  var dateYear = date.getFullYear();
  var dateMonth = date.getMonth()+1;
  var dateDay = date.getDate();

  setEndDate(dateYear,dateMonth,dateDay);
}

</script>
